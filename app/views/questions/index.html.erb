
<div class="main">
<h2>Trending / public Questions</h2>
<% @group_questions.each do |group_question| %>
  <% question = Question.find_by(:id => group_question.question_id) %>
    

  <ul>
    <li><h3>Â¿<%= link_to "#{question.query}", question_path(question) %>?<h3></li>
  </ul>
<% end %>

<h2>Or create a new Public Question</h2>

<%= link_to "Post a question to the public group", {:controller => "questions", :action => "new", :group => 0}%>

</div>

<h3 class="groups">hello there</h3>
  <ul class="my-groups"></ul>

<h3 class="myQuestions"></h3>

<h3 class="mostPopularQuestion"></h3>

<h3 class="allGroups"></h3>

<h3 class="myGroups"></h3>

<h3 class="newGroup"></h3>


<script type="text/javascript" charset="utf-8">
$(function () {
  $(".my-questions").on("click", function() {
    var id = parseInt($(".js-next").attr("data-id"));
    $.get("/users/" + id, function(data) {
      //console.log(data);
      $(".main").html(data);
    });
  });
});
</script>



<script type="text/javascript" charset="utf-8">
$(function () {
  $(".most-popular-question").on("click", function() {
    //var id = parseInt($(".js-next").attr("data-id"));
    $.get("/questions/most_popular", function(data) {
      //console.log(data);
      $(".main").html(data);
    });
  });
});
</script>


<script type="text/javascript" charset="utf-8">
$(function () {
  $(".all-groups").on("click", function() {
    var id = parseInt($(".js-next").attr("data-id"));
    $.get("/groups/", function(data) {
      //console.log(data);
      $(".main").html(data);
    });
  });
});
</script>

<script type="text/javascript" charset="utf-8">
$(function () {
  $(".my-groups").on("click", function() {
    //var id = parseInt($(".my-groups").attr("data-id"));
    //debugger 
    $.get("/groups/my_groups" + ".json", function(data) {
      //console.log(data)
      var memberships = data.groups 
      //debugger
      //console.log(memberships); 

      $.each(memberships, function(index, membership){
        //debugger
        //console.log(membership.group_id);

        var group_id = membership.group_id

        var html = ''
        html += '<p>' + "You belong to group id: " + group_id 
        //console.log(html)
        $(".my-groups").append(html);  
      //$(".main").text(html);
    });
  });
});
});
</script>

<script type="text/javascript" charset="utf-8">
$(function () {
  $(".create-new-group").on("click", function() {
    //var id = parseInt($(".js-next").attr("data-id"));
    $.get("/groups/new", function(data) {
      //console.log(data);
      $(".main").html(data);
    });
  });
});
</script>






